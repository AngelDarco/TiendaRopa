<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- <script src="script.js"></script>
     --><link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="/css/card.css">

</head>
<body>
    
  <div class="contenedor-cards"></div>




    <template class="template-card">

    <div class="flip-card-container" style="--hue: 350">
        <div class="flip-card">
      
          <div class="card-front">
            <figure>
              <div class="img-bg"></div>
              <img class="img" src="" alt="Brohm Lake">
              <figcaption>Nuevo</figcaption>
            </figure>
      
            <ul>
              <li>Producto: <span class="for-span nombre"></span></li>
              <li>Tallas:   <span class="for-span talla"></span></li>
              <li>Precio: $/<span class="for-span precio"></span></li>
              <li>Stock:    <span class="for-span stock"></span>/uni</li>
              <li>Para:     <span class="for-span genero"></span></li>
              <li class="li-color">Colores:  <span class="for-span colores"></span></li>
              <li class="li-descripcion">Descripcion:<span class="for-span span-descripcion"></span></li>
            </ul>
          </div>
  
          
          <div class="card-back">
            <figure>
              <div class="img-bg"></div>
              <img class="img2" src="" alt="Brohm Lake">
            </figure>
      
            <button>Ver</button>
  
            <div class="design-container">
              <span class="design design--1"></span>
              <span class="design design--2"></span>
              <span class="design design--3"></span>
              <span class="design design--4"></span>
              <span class="design design--5"></span>
              <span class="design design--6"></span>
              <span class="design design--7"></span>
              <span class="design design--8"></span>
              <span class="design design--9"></span>
            </div>
          </div>
      
        </div>
      </div>
    
    </template>





<script>
const cajacard = document.querySelector('.contenedor-cards');
const template = document.querySelector('.template-card').content;
const fragment = new DocumentFragment();

cards()

function cards(){

const datos = async ()=>{
    try {
        const res = await fetch('productosRead.php')
        const data =  await res.json()
/*         console.log(res)
        console.log(data) */
        creadorCards(data);
    } catch (error) {
        console.log(error);
    }
};datos();


const creadorCards = datos=>{


datos.forEach( item => {

template.querySelector('.card-front figure .img').setAttribute('src',item.imagen); 
template.querySelector('.card-front figure figcaption').innerHTML = item.codepro; 

template.querySelector('.card-front ul li .nombre').innerHTML = item.nombre; 
template.querySelector('.card-front ul li .talla').innerHTML = item.talla;
template.querySelector('.card-front ul li .precio').innerHTML = item.precio;
template.querySelector('.card-front ul li .stock').innerHTML = item.stock;
template.querySelector('.card-front ul li .genero').innerHTML = item.genero;


let nuevo = color(item.colores)


let nodo = template.querySelector('.card-front ul .li-color ').children[0];

template.querySelector('.card-front ul .li-color ').replaceChild(nuevo,nodo);





template.querySelector('.card-front ul li .span-descripcion').innerHTML = item.descripcion;

template.querySelector('.card-back figure .img2').setAttribute('src',item.imagen); 

const clone = template.cloneNode(true);
fragment.appendChild(clone);
  
})
    cajacard.appendChild(fragment);

}






}


const color = (dato)=>{
  let array = dato.split(',');
  let nodo='';
  let resultado = document.createElement('span');
  resultado.setAttribute('class','for-span colores');

  for(let i=0;i<array.length;i++){ 
    nodo = document.createElement('span');
     nodo.setAttribute('class',`color label ${array[i]}`);
    resultado.appendChild(nodo);
  }
 return resultado;
}

</script>







</body>
</html>